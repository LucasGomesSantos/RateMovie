{"ast":null,"code":"import _slicedToArray from\"D:/Projetos/Projeto KPMG/RateMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import FeaturedMovie from'../components/FeaturedMovieDetail';import Header from'../components/Header';import'../styles/repositories.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function RepositoryDetails(id){var idMovie=id['match']['params'].id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setRepositorie=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),blackHeader=_useState4[0],setblackHeader=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),retPost=_useState6[0],setPost=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),index=_useState8[0],setIndex=_useState8[1];var nome=localStorage.getItem('keyItemName');var API_KEY='0ad7ce2d705fb476cb9ac2387a7fc0b0';var API_BASE='https://api.themoviedb.org/3';var endpoint=\"/movie/\".concat(idMovie,\"?language=pt-BR&api_key=\").concat(API_KEY);useEffect(function(){fetch(\"\".concat(API_BASE).concat(endpoint)).then(function(response){return response.json();}).then(function(data){return setRepositorie(data);});},[]);function enviarNota(){var value=localStorage.getItem('keyItemPonto');if(value%0.50==0){var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({value:localStorage.getItem('keyItemPonto')})};fetch('https://api.themoviedb.org/3/movie/550/rating?api_key=0ad7ce2d705fb476cb9ac2387a7fc0b0&guest_session_id=6b187fcb2348557e79274cb37fc2e325',requestOptions).then(function(response){return response.json();}).then(function(data){return setPost(data);});window.alert('Obrigado, sua nota foi enviada com sucesso');}else{window.alert('O valor da pontuação precisa ser multiplo de 0.5');}}function onChange(ev){var _ev$target=ev.target,name=_ev$target.name,value=_ev$target.value;localStorage.setItem('keyItemPonto',value);}return/*#__PURE__*/_jsxs(\"section\",{className:\"repository-list\",children:[/*#__PURE__*/_jsx(Header,{black:blackHeader}),movie&&/*#__PURE__*/_jsx(FeaturedMovie,{item:movie}),/*#__PURE__*/_jsx(\"input\",{className:\"inpNota\",id:\"nota\",type:\"number\",onChange:onChange}),/*#__PURE__*/_jsx(\"button\",{className:\"envNota\",onClick:enviarNota,children:\"pontuar\"})]});}export default RepositoryDetails;","map":{"version":3,"sources":["D:/Projetos/Projeto KPMG/RateMovie/src/components/RepositoryDetails.tsx"],"names":["useState","useEffect","FeaturedMovie","Header","RepositoryDetails","id","idMovie","movie","setRepositorie","blackHeader","setblackHeader","retPost","setPost","index","setIndex","nome","localStorage","getItem","API_KEY","API_BASE","endpoint","fetch","then","response","json","data","enviarNota","value","requestOptions","method","headers","body","JSON","stringify","window","alert","onChange","ev","target","name","setItem"],"mappings":"yJAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,aAAP,KAA0B,mCAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,MAAO,6BAAP,C,wFAgBA,MAAO,SAASC,CAAAA,iBAAT,CAA2BC,EAA3B,CAA8B,CAErC,GAAMC,CAAAA,OAAO,CAAGD,EAAE,CAAC,OAAD,CAAF,CAAY,QAAZ,EAAsBA,EAAtC,CAFqC,cAKLL,QAAQ,CAAe,EAAf,CALH,wCAK9BO,KAL8B,eAKvBC,cALuB,8BAMAR,QAAQ,CAAC,KAAD,CANR,yCAM9BS,WAN8B,eAMjBC,cANiB,8BAOVV,QAAQ,CAAK,EAAL,CAPE,yCAO9BW,OAP8B,eAOrBC,OAPqB,8BAQZZ,QAAQ,CAAC,IAAD,CARI,yCAQ9Ba,KAR8B,eAQvBC,QARuB,eASrC,GAAMC,CAAAA,IAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAb,CACA,GAAMC,CAAAA,OAAO,CAAG,kCAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAG,8BAAjB,CACA,GAAMC,CAAAA,QAAQ,kBAAad,OAAb,oCAA+CY,OAA/C,CAAd,CAEAjB,SAAS,CAAC,UAAM,CACZoB,KAAK,WAAIF,QAAJ,SAAeC,QAAf,EAAL,CACCE,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,IAAI,QAAIjB,CAAAA,cAAc,CAACiB,IAAD,CAAlB,EAFV,EAGH,CAJQ,CAIN,EAJM,CAAT,CAOC,QAASC,CAAAA,UAAT,EAAqB,CAElB,GAAMC,CAAAA,KAAK,CAAGX,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd,CAEA,GAAIU,KAAK,CAAG,IAAR,EAAgB,CAApB,CAAwB,CACpB,GAAMC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFU,CAGnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEN,KAAK,CAAEX,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAT,CAAf,CAHa,CAAvB,CAKAI,KAAK,CAAC,0IAAD,CAA6IO,cAA7I,CAAL,CACCN,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,IAAI,QAAIb,CAAAA,OAAO,CAACa,IAAD,CAAX,EAFV,EAGAS,MAAM,CAACC,KAAP,CAAa,4CAAb,EACH,CAVD,IAWK,CACDD,MAAM,CAACC,KAAP,CAAa,kDAAb,EACH,CACJ,CAED,QAASC,CAAAA,QAAT,CAAkBC,EAAlB,CAAsB,gBACKA,EAAE,CAACC,MADR,CACVC,IADU,YACVA,IADU,CACJZ,KADI,YACJA,KADI,CAElBX,YAAY,CAACwB,OAAb,CAAqB,cAArB,CAAqCb,KAArC,EACH,CAEG,mBACI,iBAAS,SAAS,CAAE,iBAApB,wBAEA,KAAC,MAAD,EAAQ,KAAK,CAAElB,WAAf,EAFA,CAICF,KAAK,eACN,KAAC,aAAD,EAAe,IAAI,CAAGA,KAAtB,EALA,cAQA,cAAO,SAAS,CAAC,SAAjB,CAA2B,EAAE,CAAC,MAA9B,CAAqC,IAAI,CAAC,QAA1C,CAAmD,QAAQ,CAAE6B,QAA7D,EARA,cASA,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAEV,UAArC,qBATA,GADJ,CAcH,CAGD,cAAetB,CAAAA,iBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport FeaturedMovie from '../components/FeaturedMovieDetail';\r\nimport Header from '../components/Header';\r\n\r\nimport '../styles/repositories.scss'\r\n\r\ninterface Repository{\r\n    id: any;\r\n    original_title: string;\r\n    vote_average: string;\r\n    overview: string;\r\n    poster_path: string;\r\n    release_date: string;\r\n    popularity: string;\r\n    tagline: string;\r\n    genres: string;\r\n}\r\n\r\n\r\n\r\nexport function RepositoryDetails(id){\r\n\r\nconst idMovie = id['match']['params'].id\r\n\r\n\r\nconst [movie, setRepositorie] = useState<Repository[]>([])\r\nconst [blackHeader, setblackHeader]= useState(false);\r\nconst [retPost, setPost] = useState<[]>([])\r\nconst [index, setIndex]= useState(null);\r\nconst nome = localStorage.getItem('keyItemName')\r\nconst API_KEY = '0ad7ce2d705fb476cb9ac2387a7fc0b0';\r\nconst API_BASE = 'https://api.themoviedb.org/3';\r\nconst endpoint = `/movie/${idMovie}?language=pt-BR&api_key=${API_KEY}`\r\n\r\nuseEffect(() => {\r\n    fetch(`${API_BASE}${endpoint}`)\r\n    .then(response => response.json())\r\n    .then(data => setRepositorie(data))\r\n}, []);\r\n\r\n\r\n function enviarNota(){\r\n\r\n    const value = localStorage.getItem('keyItemPonto')\r\n\r\n    if (value % 0.50 == 0)  {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ value: localStorage.getItem('keyItemPonto')})\r\n        };\r\n        fetch('https://api.themoviedb.org/3/movie/550/rating?api_key=0ad7ce2d705fb476cb9ac2387a7fc0b0&guest_session_id=6b187fcb2348557e79274cb37fc2e325', requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => setPost(data));\r\n        window.alert('Obrigado, sua nota foi enviada com sucesso')\r\n    }\r\n    else { \r\n        window.alert('O valor da pontuação precisa ser multiplo de 0.5')\r\n    }\r\n}\r\n\r\nfunction onChange(ev) {\r\n    const { name, value } =ev.target;\r\n    localStorage.setItem('keyItemPonto', value)\r\n}\r\n\r\n    return (\r\n        <section className =\"repository-list\">\r\n\r\n        <Header black={blackHeader}/>\r\n\r\n        {movie && \r\n        <FeaturedMovie item ={movie}/> \r\n        }\r\n\r\n        <input className=\"inpNota\" id=\"nota\" type=\"number\" onChange={onChange}/>\r\n        <button className=\"envNota\" onClick={enviarNota}>pontuar</button>\r\n   \r\n        </section>\r\n    );\r\n}\r\n\r\n\r\nexport default RepositoryDetails;"]},"metadata":{},"sourceType":"module"}